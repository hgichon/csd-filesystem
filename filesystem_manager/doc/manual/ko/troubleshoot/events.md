# 이벤트 경고 확인

클러스터 관리자의 이벤트 내역을 확인하여, 시스템에서 발생한 다양한 이벤트 발생과 처리 내역을 확인하실 수 있습니다.

"[1.4.2 작업 상태](#cluster.xhtml#1.4.2 작업 상태)"를 확인하여 이벤트가 발생한 경우에는 아래 가이드에 따라 조치를 취할 수 있습니다.

각 경고, 오류 메시지는 사용자의 의도에 따라 발생할 수도 있기 때문에 가이드를 확인하여 의도에 의해 발생한 메시지인지, 장애가 발생한 이슈인지 확인하시기를 권장합니다.

## NIC eth(x) state is down

| 원인 분석 | 내용 |
| :-------: | :--- |
| 중요도        | 높음   |
| 이벤트 내용   | 해당 클러스터 노드의 네트워크 연결이 정상 동작하지 않습니다. |
| 관련 버전     | 버전 무관 |
| 발생 환경     | 해당 노드의 NIC가 물리적으로 고장나거나 케이블이 탈착된 경우 주로 발생하며, 간혹 NIC 커널 드라이버 오류가 발생한 경우에도 발생할 수 있습니다. |
| **관련 장애** | 해당 NIC 사용 네트워크가 이중화가 되지 않은 경우 시스템 장애를 유발 합니다. |
| 해결 방안     | 원인에 따른 부품 교체를 권장합니다. |

## NIC bond(0|1) is degraded

| 원인 분석     | 내용 |
| :-------:     | :--- |
| 중요도        | 중간 |
| 내용          | 해당 클러스터 노드의 스토리지 또는 서비스 네트워크 연결이 DEGRADE 상태입니다. |
| 관련 버전     | 버전 무관 |
| 발생 환경     | 해당 노드의 이중화된 NIC 중 한개가 물리적으로 고장나거나 케이블이 탈착된 경우 주로 발생하며, 간혹 NIC 커널 드라이버 오류가 발생한 경우에도 발생할 수 있습니다. |
| **관련 장애** | 서비스에 영향을 미치지는 않습니다만 조치를 필요로 합니다. |
| 해결 방안     | 원인에 따른 부품 교체를 권장합니다. |

## NIC eth4 doesnt use maximum speed link (link speed: xxx Mb/s),

| 원인 분석 | 내용 |
| :-------: | :--- |
| 중요도        | 중간 |
| 내용          | 해당 클러스터 노드의 네트워크 연결이 구성이 최대 성능 설정이 아닙니다. |
| 관련 버전     | 버전 무관 |
| 발생 환경     | 해당 노드의 NIC와 스위치가 자동 협상에 실패하거나, 물리적으로 문제가 있는 경우 또는 케이블 연결이 불안한 경우에 주로 발생하며, 간혹 NIC 커널 드라이버 오류가 발생한 경우에도 발생할 수 있습니다. |
| **관련 장애** | 서비스에 영향을 미치지는 않습니다만 성능이 떨어질 수 있습니다. 조치를 필요로 합니다. |
| 해결 방안     | 원인에 따른 부품 교체를 권장합니다. |

## OSDISK\_HIGH: VolGroup-lv\_root

| 원인 분석 | 내용 |
| :-------: | :--- |
| 중요도        | 높음 |
| 내용          | OS 디스크의 가용량이 20% 미만일 때 발생하는 이벤트 입니다. |
| 관련 버전     | 버전 무관 |
| 발생 환경     | 디버그 수준이 높거나 써드파티 패키지가 설치된 경우, 시스템 소프트웨어의 오류가 발생하여 로그량이 크게 증가한 경우 등 |
| **관련 장애** | OS 디스크 용량이 부족할 경우, 일부 시스템 설정 파일 및 디스크 버퍼링이 제대로 동작하지 않아 모니터링 소프트웨어의 오동작 및 새로운 서비스 클라이언트의 접속이 실패할 수 있습니다. |
| 해결 방안     | 불필요한 파일을 삭제하여 운영체제 디스크의 용량을 확보해야 합니다. <br>아래 명령어를 통해 각 디렉터리가 사용 중인 용량을 확인하여 불필요한 파일을 삭제합니다. |

###### 1. SSH로 시스템 콘솔에 접근하여 "df" 명령어를 사용해서 실제 운영체제 디스크의 가용량을 확인 합니다.

```
$ df -h /
Filesystem            		Size  Used Avail Use% Mounted on
/dev/mapper/VolGroup-lv_root 	50G  48G   2G   96% 	/

$ cd / ; du -sh `ls | egrep -v 'proc|sys|export|volume'`
... 중략 ...
196M    opt
617M    root
1.4G    usr
40G    var
... 중략 ...
```

###### 2. Anystor-E 주요 로그 디렉토리의 용량을 확인합니다.

```
$ cd /var/log;  du -sh `ls`
... 중략 ...
1.3G    /var/log/gsm
374M    /var/log/gms
1.8G    /var/log/glusterfs
... 중략 ...
```

###### 3. 용량이 큰 디렉터리에서 오래된 로그 파일의 용량을 확인하고 삭제합니다.

```
$ ls -alt /var/log/gsm/

644M    /var/log/gsm/publisher.log-20171109.gz
656M    /var/log/gsm/publisher.log-20171111.gz
628M    /var/log/gsm/publisher.log-20171113.gz
648M    /var/log/gsm/publisher.log-20171115.gz

$ rm -rf /var/log/gsm/publisher.log-20171028.gz
```

###### 4. 운영체제 디스크의 가용량이 확보되었는지 확인합니다.

```
$ df -h /
Filesystem            		Size  Used Avail Use% Mounted on
/dev/mapper/VolGroup-lv_root 	50G  24G   26G   48% 	/
```
