## 5.7 네트워크 본딩

### 5.7.1 네트워크 본딩 개요

네트워크 본딩(Bonding)은 하나 이상의 물리적인 네트워크 장치를 가상의 네트워크 장치로 결합하여 네트워크 인터페이스의 가용성/성능을 개선하는 기술입니다.

본딩은 크게 아래와 같이 6가지의 모드가 있습니다.

* **[Round-Robin]**
  * 네트워크 장치에 순차적으로 데이터를 전송하며, 부하 분산과 무정지 기능 제공
  * 모드 번호 0

* **[Active Backup]**
  * 하나의 장치만 활성화하고 다른 장치들은 활성화된 장치에 문제가 발생한 경우에만 활성화
  * 모드 번호 1

* **[Balance-XOR]**
  * XOR 연산을 통하여 패킷을 전송할 구성 장치를 선택
  * 모드 번호 2

* **[Broadcast]**
  * 동일한 패킷을 모든 구성 장치를 통해 전송
  * 모드 번호 3

* **[IEEE 802.3ad]**
  * 이더채널(EtherChannel) 혹은 LACP 프로토콜을 지원하는 결합이며, 이를 지원하는 네트워크 장비(스위치)가 필요
  * 모드 번호 4

* **[Balance-tlb]**
  * 송신 패킷만 부하 분산하며, 수신 패킷은 활성화된 장치로만 전달
  * 모드 번호 5

* **[Balance-alb]**
  * 송/수신 패킷 모두를 부하 분산하며, 본딩에서 트래픽이 많이 존재하지 않는 장치로 전달
  * 모드 번호 6

<div class="notices yellow element normal">
<strong>지원하지 않는 모드</strong>
<ul>
    <li>브로드캐스트(Broadcast) 모드는 AnyStor-E에서 지원하지 않습니다.</li>
</ul>
</div>

### 5.7.2 네트워크 본딩 관리

클러스터 노드의 네트워크 본딩 상태를 출력하고 네트워크 본딩에 대한 생성/수정/삭제를 수행할 수 있습니다.

<div class="notices yellow element normal">

<strong>서비스/스토리지 네트워크 장치 활성/비활성화 제한</strong>

<ul>
    <li>서비스와 스토리지 네트워크 장치는 비활성화할 수 없습니다.</li>
</ul>

<br>

<strong>본딩에 소속한 네트워크 장치 상태 변경 제한</strong>

<ul>
    <li>본딩에 속한 네트워크 장치는 상태를 단독으로 바꿀 수 없습니다.</li>
    <li>본딩의 상태를 변경하면 그 본딩이 포함하는 네트워크 장치들도 모두 변경됩니다.</li>
</ul>
</div>

### 5.7.3 네트워크 본딩 목록

* 네트워크 본딩 목록에는 네트워크 장치 정보를 모아 각 장치당 한 줄씩 출력합니다.
* 네트워크 본딩 정보는 이름, 물리 장치, 주 보조 장치, 활성 보조 장치, 모드를 포함합니다.

|  구분  |  내용  |
|  :---:  |  :---  |
| **이름** | 네트워크 본딩 장치의 이름입니다. |
| **물리 장치** | 네트워크 본딩을 구성하는 보조 장치들을 보여줍니다. |
| **주 보조 장치** | 네트워크 본딩을 구성하는 주 보조 장치를 표기합니다.<br>없으면 빈 값으로 나타날 수 있으며, 주 보조장치로 지정한 네트워크 장치는 본딩이 실제 통신을 하는 네트워크 장치로 지정될 확률이 높습니다. |
| **활성 보조 장치** | 네트워크 본딩이 현재 사용 중인 활성 보조 장치를 보여줍니다.<br>없으면 빈 값으로 나타날 수 있습니다. |
| **모드** | 네트워크 본딩의 동작 모드를 보여줍니다. |

#### 5.7.3.1 물리 장치 상세 정보

* 각각의 네트워크 본딩을 선택하고 물리 장치 상세 정보 버튼을 누르면 물리 장치 상세 정보가 나타납니다.
* 네트워크 본딩의 물리 장치 상세 정보는 본딩을 구성하는 장치 이름과 MAC 주소를 출력합니다.

### 5.7.4 네트워크 본딩 생성

**네트워크 본딩 페이지**의 **생성** 버튼을 클릭하여 네트워크 본딩을 생성할 수 있습니다.

#### 5.7.4.1 본딩 모드 선택

[5.7.1 네트워크 본딩 개요](#node.xhtml#5.7.1 네트워크 본딩 개요)를 참고하여 본딩 모드를 선택합니다.

#### 5.7.4.2 구성할 보조 장치 선택

* **[활성화]**
  * 네트워크 본딩의 활성화 여부를 선택합니다.
  * 해당 항목이 선택되면 네트워크 본딩과 이 본딩을 구성하는 보조 장치들을 켭니다.
  * 해당 항목이 선택되지 않으면 네트워크 본딩과 이 본딩을 구성하는 보조 장치들을 끕니다.

* **[주 보조 장치]**
  * 선택한 보조 장치들 중에서 주 보조 장치로 지정할 장치를 선택합니다.

* **[가용 네트워크 장치 목록]**
  * 네트워크 본딩을 구성이 가능한 보조 장치들을 나열합니다.
  * 다른 네트워크 본딩에 속하지 않은 네트워크 장치만 나열합니다.
  * 선택한 네트워크 장치를 보조 장치로 지정합니다.

### 5.7.5 네트워크 본딩 수정

**네트워크 본딩 페이지**의 **수정** 버튼을 클릭하여 기존 네트워크 본딩을 수정할 수 있습니다.

#### 5.7.5.1 본딩 모드 선택

[5.7.1 네트워크 본딩 개요](#node.xhtml#5.7.1 네트워크 본딩 개요)를 참고하여 본딩 모드를 선택합니다.

#### 5.7.5.2 구성할 보조 장치 선택

* **[활성화]**
  * 네트워크 본딩의 활성화 상태입니다.
  * 해당 항목이 선택되면 네트워크 본딩과 이 본딩을 구성하는 보조 장치들을 켭니다.
  * 해당 항목이 선택되지 않으면 네트워크 본딩과 이 본딩을 구성하는 보조 장치들을 끕니다.

* **[주 보조 장치]**
  * 선택한 보조 장치들 중에서 주 보조 장치로 지정할 장치를 선택합니다.

* **[가용 네트워크 장치 목록]**
  * 네트워크 본딩을 구성이 가능한 네트워크 장치를 나열합니다.
  * 다른 네트워크 본딩에 속하지 않은 네트워크 장치와 선택한 본딩에 속한 네트워크 장치를 나열합니다.
  * 선택한 네트워크 장치를 보조 장치로 지정합니다.

### 5.7.6 네트워크 본딩 삭제

**네트워크 본딩 페이지**의 **삭제** 버튼을 클릭하여 기존 네트워크 본딩을 삭제할 수 있습니다.
